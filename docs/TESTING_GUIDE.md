# ğŸ§ª æµ‹è¯•æŒ‡å—

## å¿«é€Ÿå¼€å§‹æµ‹è¯•

### å‰ç½®æ¡ä»¶
- âœ… Node.js v24+
- âœ… Chromeæµè§ˆå™¨
- âœ… Git

### 1. å¯åŠ¨åç«¯æœåŠ¡å™¨

```bash
# è¿›å…¥åç«¯ç›®å½•
cd backend

# å®‰è£…ä¾èµ–ï¼ˆå¦‚æœè¿˜æ²¡å®‰è£…ï¼‰
npm install

# åˆå§‹åŒ–æ•°æ®åº“
node src/utils/init-db.js

# å¯åŠ¨æœåŠ¡å™¨
npm start
```

**é¢„æœŸè¾“å‡ºï¼š**
```
âœ“ Connected to user_data.db
âš  Dictionary database not found (æ­£å¸¸ï¼Œè¯å…¸æ–‡ä»¶éœ€å•ç‹¬ä¸‹è½½)
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   Spooky Vocab Backend Server Started   â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘   Port: 3000                             â•‘
â•‘   Environment: development               â•‘
â•‘   Database: SQLite                       â•‘
â•‘   Status: Ready                          â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### 2. æµ‹è¯•åç«¯API

**å¥åº·æ£€æŸ¥ï¼š**
```bash
curl http://localhost:3000/health
```

**è·å–æµ‹è¯•JWT Tokenï¼š**
```bash
curl -X POST http://localhost:3000/api/auth/test-token \
  -H "Content-Type: application/json" \
  -d '{"user_id":"test_user","cefr_level":"B1"}'
```

**éªŒè¯Tokenï¼š**
```bash
# ä½¿ç”¨ä¸Šä¸€æ­¥è·å–çš„token
export TOKEN="eyJhbGciOi..."

curl http://localhost:3000/api/auth/verify \
  -H "Authorization: Bearer $TOKEN"
```

### 3. åŠ è½½Chromeæ‰©å±•

1. æ‰“å¼€Chromeæµè§ˆå™¨
2. è®¿é—® `chrome://extensions/`
3. å¼€å¯å³ä¸Šè§’"å¼€å‘è€…æ¨¡å¼"
4. ç‚¹å‡»"åŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åº"
5. é€‰æ‹© `extension` æ–‡ä»¶å¤¹
6. ç¡®è®¤æ‰©å±•å·²åŠ è½½å¹¶å¯ç”¨

**æ‰©å±•å›¾æ ‡æ˜¾ç¤ºï¼š**
- åº”è¯¥åœ¨æµè§ˆå™¨å·¥å…·æ çœ‹åˆ° Spooky Vocab å›¾æ ‡

### 4. æµ‹è¯•å‰ç«¯åŠŸèƒ½

#### æµ‹è¯•é¡µé¢ (test.html)

```bash
# åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€
open test.html
# æˆ–
file:///path/to/english_helper/test.html
```

**é¢„æœŸè¡Œä¸ºï¼š**
1. é¡µé¢åŠ è½½åï¼Œæ‰©å±•è‡ªåŠ¨åˆå§‹åŒ–
2. æ§åˆ¶å°æ˜¾ç¤ºï¼š
   ```
   [VocabHelper] Initializing...
   [JWTManager] Token loaded from storage
   [APIClient] Checking words via API...
   [TextProcessor] Starting page processing
   ```

3. é¡µé¢ä¸­çš„éš¾è¯è¢«é«˜äº®æ ‡è®°ï¼ˆä¸‹åˆ’çº¿+è“è‰²è™šçº¿ï¼‰
4. é¼ æ ‡æ‚¬åœåœ¨éš¾è¯ä¸Šï¼Œæ˜¾ç¤ºç¿»è¯‘æµ®å±‚

#### æµ‹è¯•çœŸå®ç½‘é¡µ

è®¿é—®ä»»æ„è‹±æ–‡ç½‘ç«™ï¼Œä¾‹å¦‚ï¼š
- https://news.ycombinator.com/
- https://www.bbc.com/news
- https://en.wikipedia.org/

**é¢„æœŸè¡Œä¸ºï¼š**
- é¡µé¢ä¸­çš„éš¾è¯è¢«è‡ªåŠ¨æ ‡è®°
- æ‚¬åœæ˜¾ç¤ºç¿»è¯‘
- åŒå‡»ä»»æ„å•è¯å¯å¼ºåˆ¶æ˜¾ç¤ºç¿»è¯‘

### 5. æµ‹è¯•Popupç•Œé¢

1. ç‚¹å‡»æµè§ˆå™¨å·¥å…·æ çš„æ‰©å±•å›¾æ ‡
2. Popupçª—å£æ‰“å¼€

**é¢„æœŸæ˜¾ç¤ºï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Spooky Vocab           â”‚
â”‚  ç”¨æˆ·: test_user | ç­‰çº§: B1 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å¯ç”¨æ’ä»¶: âœ“            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æœ¬æ¬¡ä¼šè¯ç»Ÿè®¡            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚  5  â”‚  2  â”‚          â”‚
â”‚  â”‚ç”Ÿè¯ â”‚å·²çŸ¥ â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æˆ‘çš„è‹±è¯­æ°´å¹³            â”‚
â”‚  [A1][A2][B1*][B2][C1][C2]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å·²æŒæ¡çš„è¯æ±‡            â”‚
â”‚  - implement  (ç†Ÿæ‚‰åº¦:70)â”‚
â”‚  - paradigm   (ç†Ÿæ‚‰åº¦:50)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6. æµ‹è¯•ç”¨æˆ·äº¤äº’

#### æ ‡è®°å•è¯ä¸º"å·²çŸ¥"
1. æ‚¬åœåœ¨å·²æ ‡è®°çš„éš¾è¯ä¸Š
2. æµ®å±‚æ˜¾ç¤ºç¿»è¯‘
3. ç‚¹å‡»æµ®å±‚å³ä¸Šè§’çš„ âœ• æŒ‰é’®
4. å•è¯æ ‡è®°æ¶ˆå¤±

**æ§åˆ¶å°æ—¥å¿—ï¼š**
```
[FeedbackHandler] Marking as known: implement
[APIClient] POST /api/feedback/known
[FeedbackHandler] API: Marked as known: implement
```

#### å¼ºåˆ¶æ˜¾ç¤ºç¿»è¯‘ï¼ˆåŒå‡»ï¼‰
1. åŒå‡»ä»»æ„å•è¯ï¼ˆåŒ…æ‹¬ç®€å•è¯ï¼‰
2. æµ®å±‚æ˜¾ç¤ºç¿»è¯‘ï¼ˆå¦‚æœæœ‰ï¼‰

**æ§åˆ¶å°æ—¥å¿—ï¼š**
```
[TextProcessor] Double-click on word: hello
[FeedbackHandler] Marking as unknown: hello
[APIClient] POST /api/feedback/unknown
```

#### æ›´æ”¹CEFRç­‰çº§
1. æ‰“å¼€Popup
2. ç‚¹å‡»ä¸åŒçš„ç­‰çº§æŒ‰é’®ï¼ˆå¦‚C1ï¼‰
3. é¡µé¢åˆ·æ–°åï¼Œéš¾è¯æ ‡è®°ä¼šæ ¹æ®æ–°ç­‰çº§è°ƒæ•´

**æ§åˆ¶å°æ—¥å¿—ï¼š**
```
[Popup] CEFR level updated: C1
[APIClient] PUT /api/user/settings
```

### 7. æµ‹è¯•ç¦»çº¿æ¨¡å¼

#### æ¨¡æ‹Ÿç¦»çº¿
1. åœæ­¢åç«¯æœåŠ¡å™¨ (Ctrl+C)
2. åˆ·æ–°æµ‹è¯•é¡µé¢

**é¢„æœŸè¡Œä¸ºï¼š**
- æ§åˆ¶å°æ˜¾ç¤ºï¼š
  ```
  [APIClient] Request failed...
  [VocabHelper] API failed, falling back to mock mode
  [TextProcessor] Using mock mode
  ```
- é¡µé¢åŠŸèƒ½ç»§ç»­å·¥ä½œï¼ˆä½¿ç”¨Mockæ•°æ®ï¼‰
- Popupæ˜¾ç¤º"ç¦»çº¿æ¨¡å¼"

#### æ¢å¤åœ¨çº¿
1. é‡æ–°å¯åŠ¨åç«¯æœåŠ¡å™¨
2. åˆ·æ–°é¡µé¢

**é¢„æœŸè¡Œä¸ºï¼š**
- è‡ªåŠ¨åˆ‡æ¢å›APIæ¨¡å¼
- åŒæ­¥ç¦»çº¿æœŸé—´çš„æ“ä½œï¼ˆå¦‚æœæœ‰ï¼‰

### 8. æŸ¥çœ‹æ•°æ®åº“æ•°æ®

```bash
# æŸ¥çœ‹ç”¨æˆ·è®¾ç½®
sqlite3 backend/data/user_data.db "SELECT * FROM user_settings;"

# æŸ¥çœ‹å•è¯è®°å½•
sqlite3 backend/data/user_data.db "SELECT * FROM word_records LIMIT 10;"

# æŸ¥çœ‹å•è¯ä¸Šä¸‹æ–‡
sqlite3 backend/data/user_data.db "SELECT * FROM word_contexts LIMIT 5;"
```

## ğŸ› å¸¸è§é—®é¢˜

### Q: åç«¯æ— æ³•å¯åŠ¨
**A:** æ£€æŸ¥ç«¯å£3000æ˜¯å¦è¢«å ç”¨
```bash
lsof -i :3000
# å¦‚æœè¢«å ç”¨ï¼Œæ€æ‰è¿›ç¨‹æˆ–ä¿®æ”¹backend/src/server.jsä¸­çš„ç«¯å£å·
```

### Q: æ‰©å±•åŠ è½½åæ— ååº”
**A:** 
1. æ‰“å¼€å¼€å‘è€…å·¥å…· (F12)
2. æŸ¥çœ‹Consoleæ˜¯å¦æœ‰é”™è¯¯
3. ç¡®è®¤åç«¯æœåŠ¡å™¨æ˜¯å¦è¿è¡Œ
4. æ£€æŸ¥ `chrome://extensions/` æ˜¯å¦æœ‰é”™è¯¯æç¤º

### Q: å•è¯æ²¡æœ‰è¢«æ ‡è®°
**A:**
1. ç¡®è®¤æ‰©å±•å·²å¯ç”¨ï¼ˆPopupä¸­çš„å¼€å…³ï¼‰
2. ç¡®è®¤é¡µé¢åŒ…å«è‹±æ–‡æ–‡æœ¬
3. æŸ¥çœ‹Consoleæ—¥å¿—
4. å°è¯•åˆ·æ–°é¡µé¢

### Q: JWT tokenè¿‡æœŸ
**A:** 
- Tokenæœ‰æ•ˆæœŸ24å°æ—¶
- ä¼šè‡ªåŠ¨åˆ·æ–°ï¼ˆå‰©ä½™æ—¶é—´<1å°æ—¶æ—¶ï¼‰
- å¦‚æœå¤±è´¥ï¼Œé‡æ–°è·å–æµ‹è¯•tokenï¼š
  ```bash
  curl -X POST http://localhost:3000/api/auth/test-token \
    -H "Content-Type: application/json" \
    -d '{"user_id":"your_user_id","cefr_level":"B1"}'
  ```

### Q: æµ®å±‚ä½ç½®ä¸å¯¹
**A:**
- è¿™æ˜¯å·²çŸ¥é—®é¢˜ï¼Œæ­£åœ¨ä¼˜åŒ–
- å°è¯•æ»šåŠ¨é¡µé¢åå†æ¬¡æ‚¬åœ

### Q: è¯å…¸æ•°æ®åº“not found
**A:**
- è¿™æ˜¯æ­£å¸¸çš„ï¼ŒECDICTéœ€è¦å•ç‹¬ä¸‹è½½
- ä¸å½±å“åŸºæœ¬åŠŸèƒ½æµ‹è¯•
- Mockæ•°æ®è¶³å¤Ÿå‰ç«¯æµ‹è¯•ä½¿ç”¨
- ä¸‹è½½åœ°å€ï¼šhttps://github.com/skywind3000/ECDICT

## ğŸ“Š æµ‹è¯•æ£€æŸ¥æ¸…å•

### åç«¯æµ‹è¯•
- [ ] æœåŠ¡å™¨æˆåŠŸå¯åŠ¨
- [ ] å¥åº·æ£€æŸ¥ç«¯ç‚¹å“åº”
- [ ] JWT tokenç”ŸæˆæˆåŠŸ
- [ ] TokenéªŒè¯æˆåŠŸ
- [ ] Tokenåˆ·æ–°æˆåŠŸ
- [ ] æ•°æ®åº“è¯»å†™æ­£å¸¸

### å‰ç«¯æµ‹è¯•
- [ ] æ‰©å±•æˆåŠŸåŠ è½½
- [ ] JWTè‡ªåŠ¨è·å–
- [ ] é¡µé¢å•è¯è¢«æ ‡è®°
- [ ] æµ®å±‚æ­£ç¡®æ˜¾ç¤º
- [ ] ç¿»è¯‘å†…å®¹æ­£ç¡®
- [ ] åŒå‡»å¼ºåˆ¶ç¿»è¯‘å·¥ä½œ
- [ ] æ ‡è®°ä¸ºå·²çŸ¥æœ‰æ•ˆ
- [ ] Popupæ•°æ®æ˜¾ç¤ºæ­£ç¡®
- [ ] CEFRç­‰çº§åˆ‡æ¢æœ‰æ•ˆ

### é›†æˆæµ‹è¯•
- [ ] å‰ç«¯â†’åç«¯é€šä¿¡æ­£å¸¸
- [ ] JWTè®¤è¯æµç¨‹å®Œæ•´
- [ ] æ•°æ®åŒæ­¥æ­£å¸¸
- [ ] é”™è¯¯å¤„ç†æ­£ç¡®
- [ ] ç¦»çº¿æ¨¡å¼é™çº§æˆåŠŸ
- [ ] æ¢å¤åœ¨çº¿ååŒæ­¥æˆåŠŸ

### æ€§èƒ½æµ‹è¯•
- [ ] é¡µé¢åŠ è½½æ— æ˜æ˜¾å»¶è¿Ÿ
- [ ] æ‰¹é‡æŸ¥è¯¢å“åº”å¿«é€Ÿ
- [ ] æµ®å±‚æ˜¾ç¤ºæµç•…
- [ ] å†…å­˜ä½¿ç”¨åˆç†

## ğŸ“ æµ‹è¯•æŠ¥å‘Šæ¨¡æ¿

```markdown
## æµ‹è¯•æŠ¥å‘Š

**æµ‹è¯•æ—¥æœŸï¼š** YYYY-MM-DD
**æµ‹è¯•äººå‘˜ï¼š** 
**ç¯å¢ƒï¼š** 
- OS: 
- Node.js: 
- Chrome: 

### æµ‹è¯•ç»“æœ

| åŠŸèƒ½ | çŠ¶æ€ | å¤‡æ³¨ |
|------|------|------|
| åç«¯å¯åŠ¨ | âœ…/âŒ | |
| JWTè®¤è¯ | âœ…/âŒ | |
| å•è¯æ ‡è®° | âœ…/âŒ | |
| ç¿»è¯‘æ˜¾ç¤º | âœ…/âŒ | |
| ç”¨æˆ·åé¦ˆ | âœ…/âŒ | |
| Popupç•Œé¢ | âœ…/âŒ | |
| ç¦»çº¿æ¨¡å¼ | âœ…/âŒ | |

### é—®é¢˜è®°å½•
1. 
2. 
3. 

### å»ºè®®
1. 
2. 
3. 
```

## ğŸ¯ ä¸‹ä¸€æ­¥æµ‹è¯•

å®ŒæˆåŸºæœ¬æµ‹è¯•åï¼Œå¯ä»¥è¿›è¡Œï¼š
1. ç§»åŠ¨ç«¯æµ‹è¯•ï¼ˆKiwi Browserï¼‰
2. æ€§èƒ½å‹åŠ›æµ‹è¯•
3. é•¿æ—¶é—´ä½¿ç”¨æµ‹è¯•
4. å¤šç”¨æˆ·å¹¶å‘æµ‹è¯•
5. çœŸå®ç½‘ç«™æµ‹è¯•

---

**Happy Testing! ğŸš€**

