# 智能英语单词翻译助手 - Chrome Extension

这是一个Chrome插件，能够智能识别网页中的英文难词并显示翻译，支持自适应学习。

## 当前版本：阶段一 - 前端Mock测试版

使用本地Mock数据进行功能验证，暂未连接后端API。

## 功能特性

### ✅ 已实现（阶段一）

- 🔍 **智能分词**：自动识别网页中的英文单词
- 📚 **难词判断**：基于Mock词库判断哪些词需要显示翻译
- 💬 **翻译浮层**：美观的浮层UI，使用Shadow DOM隔离样式
- 📱 **移动端适配**：支持Kiwi Browser等移动端浏览器
  - PC端：悬停显示，双击强制翻译
  - 移动端：点击切换，长按强制翻译
- ✓ **用户反馈**：点击"认识"按钮标记已掌握的词汇
- 💾 **本地存储**：使用chrome.storage.local保存学习记录
- 🎨 **响应式设计**：自动适配桌面和移动设备
- 📊 **学习统计**：Popup界面显示学习进度

### 🚧 待实现（阶段二）

- 🔐 后端API接口
- 📖 ECDICT离线词典集成
- 🧠 自适应学习算法
- 📈 熟悉度评分系统
- 🔄 云端数据同步
- 📝 复习功能

## 安装方法

1. 克隆或下载此项目
2. 准备图标文件（见 `icons/README.md`）
3. 打开Chrome浏览器，访问 `chrome://extensions/`
4. 开启右上角的"开发者模式"
5. 点击"加载已解压的扩展程序"
6. 选择 `extension` 文件夹

## 使用说明

### 基本使用

1. 安装插件后，访问任意英文网页
2. 插件会自动识别并标记需要翻译的单词
3. **PC端**：鼠标悬停在标记的单词上查看翻译
4. **移动端**：点击标记的单词查看翻译
5. 如果翻译正确但你已经认识这个词，点击浮层中的"✓"按钮

### 强制显示翻译

如果某个词没有被标记但你想查看翻译：

- **PC端**：双击该单词
- **移动端**：长按该单词（500ms）

### 设置

点击插件图标打开Popup界面，可以：

- 启用/禁用插件
- 查看学习统计
- 设置英语水平（A1-C2）
- 查看已掌握的词汇列表
- 清除历史记录

## 技术架构

### 前端

- **Manifest V3**：使用最新的Chrome扩展API
- **Vanilla JavaScript**：无框架依赖，性能优化
- **Shadow DOM**：样式隔离，避免与页面CSS冲突
- **响应式设计**：支持PC和移动端

### 文件结构

```
extension/
├── manifest.json              # 扩展配置文件
├── content/
│   ├── main.js                # 入口文件，设备检测和初始化
│   ├── text-processor.js      # 文本遍历和分词
│   ├── mock-vocabulary.js     # Mock词汇数据和判断逻辑
│   ├── translation-tooltip.js # 翻译浮层UI组件
│   └── feedback-handler.js    # 用户反馈处理
├── popup/
│   ├── popup.html             # Popup界面
│   └── popup.js               # Popup逻辑
├── icons/
│   ├── icon16.png
│   ├── icon48.png
│   └── icon128.png
└── README.md
```

## Mock数据说明

当前版本使用硬编码的Mock数据：

- **简单词**（约500个）：不显示翻译
- **中等词**（约20个）：implement, comprehensive, significant等
- **难词**（约30个）：ubiquitous, ephemeral, paradigm等

每个难词包含：
- 中文释义
- 音标

## 开发计划

### 阶段一：✅ 前端体验验证（当前）

使用Mock数据验证UI/UX设计

### 阶段二：🚧 后端智能系统（下一步）

- Node.js + Express后端
- ECDICT离线词典（80万词）
- 自适应学习算法
- 用户数据持久化
- JWT认证（测试阶段使用明文user_id）

## 测试建议

1. **PC浏览器测试**
   - 访问英文新闻网站（如BBC, CNN）
   - 测试悬停显示翻译
   - 测试双击强制翻译
   - 测试"认识"按钮功能

2. **移动浏览器测试（Kiwi Browser）**
   - 访问相同的网站
   - 测试点击切换翻译
   - 测试长按强制翻译
   - 检查浮层是否超出屏幕边界
   - 检查触摸区域大小是否合适

3. **体验评估重点**
   - 浮层是否影响阅读？
   - 交互是否流畅自然？
   - 翻译显示时机是否合理？
   - 移动端操作是否方便？

## 常见问题

### Q: 为什么有些简单词也显示了翻译？

A: 当前版本使用Mock数据，词库有限。阶段二接入真实词典后会更准确。

### Q: 移动端长按没反应？

A: 确保长按时间足够（500ms），且不要移动手指。

### Q: 浮层显示位置不对？

A: 刷新页面重试。某些动态网页可能影响定位。

### Q: 如何彻底禁用插件？

A: 在Popup界面关闭"启用插件"开关，或在 chrome://extensions/ 中禁用。

## 贡献

这是一个测试版本，欢迎提供反馈和建议！

## License

MIT

